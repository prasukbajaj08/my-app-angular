<div class="ms-layout">
  <app-sidebar class="ms-sidebar"></app-sidebar>

  <main class="ms-main">
    <!-- listen for create from header -->
    <app-sessions-header (create)="openCreate()"></app-sessions-header>

    <section class="ms-content">
      <!-- stats -->
      @if (summary()) {
        <app-stats-summary [summary]="summary()"></app-stats-summary>
      }

      <!-- tabs -->
      <app-sessions-tabs [active]="filter()" (tabChange)="onTabChange($event)"></app-sessions-tabs>

      <!-- sessions list -->
      @if (sessions() && sessions().length > 0) {
        @for (s of sessions(); track s.id) {
          <app-session-card
            [session]="s"
            (view)="onView($event)"
            (edit)="onEdit($event)">
          </app-session-card>
        }
      } @else {
        <div class="empty">No sessions found.</div>
      }
    </section>
  </main>
</div>

<!-- Create Session overlay -->
@if (showCreate()) {
  <app-create-session
    (cancel)="closeCreate()"
    (save)="onCreateSave($event)">
  </app-create-session>
}
